<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>

<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.input.KeyCodeCombination?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>

<?import javafx.scene.layout.AnchorPane?>
<BorderPane fx:id="borderPane" xmlns:fx="http://javafx.com/fxml" fx:controller="com.cgvsu.controller.GuiController">

    <!-- МЕНЮ -->
    <top>
        <MenuBar xmlns:fx="http://javafx.com/fxml">
            <Menu mnemonicParsing="false" text="File">
                <MenuItem mnemonicParsing="false" onAction="#onOpenModelMenuItemClick" text="Load Model">
                    <accelerator>
                        <KeyCodeCombination alt="UP" control="DOWN" meta="UP" shift="UP" shortcut="UP" code="O"/>
                    </accelerator>
                </MenuItem>
                <MenuItem mnemonicParsing="false" onAction="#onSaveModelMenuItemClick" text="Save Model">
                    <accelerator>
                        <KeyCodeCombination alt="UP" control="DOWN" meta="UP" shift="UP" shortcut="UP" code="S"/>
                    </accelerator>
                </MenuItem>
            </Menu>
            <Menu mnemonicParsing="false" text="Transform">
                <MenuItem mnemonicParsing="false" onAction="#showTransformPanel" text="Show Transform Panel">
                    <accelerator>
                        <KeyCodeCombination alt="UP" control="DOWN" meta="UP" shift="UP" shortcut="UP" code="T"/>
                    </accelerator>
                </MenuItem>
                <MenuItem mnemonicParsing="false" onAction="#hideTransformPanel" text="Hide Transform Panel">
                    <accelerator>
                        <KeyCodeCombination alt="UP" control="DOWN" meta="UP" shift="UP" shortcut="UP" code="G"/>
                    </accelerator>
                </MenuItem>
            </Menu>
        </MenuBar>
    </top>

    <!-- КАНВАС -->
    <center>
        <AnchorPane fx:id="canvasContainer">
            <Canvas fx:id="canvas" width="1000" height="900"/>
        </AnchorPane>
    </center>

    <!-- ПАНЕЛЬ ТРАНСФОРМАЦИЙ -->
    <right>
        <AnchorPane>
            <VBox fx:id="transformPanel"
                  spacing="15" alignment="CENTER"
                  style="-fx-background-color: rgba(240,240,240,0.9); -fx-padding: 10; -fx-border-color: #ccc; -fx-border-width: 1;"
                  visible="false" managed="false"
                  minWidth="250" prefWidth="250" maxWidth="300"
                  AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
                  AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">

                <!-- === POSITION === -->
                <VBox spacing="5">
                    <Label text="Position" style="-fx-font-weight: bold;"/>
                    <HBox spacing="5">
                        <Label text="X:"/>
                        <Spinner fx:id="translateXField" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="Y:"/>
                        <Spinner fx:id="translateYField" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="Z:"/>
                        <Spinner fx:id="translateZField" prefWidth="80"/>
                    </HBox>
                </VBox>

                <!-- === ROTATION === -->
                <VBox spacing="5">
                    <Label text="Rotation (°)" style="-fx-font-weight: bold;"/>
                    <HBox spacing="5">
                        <Label text="X:"/>
                        <Spinner fx:id="rotateXField" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="Y:"/>
                        <Spinner fx:id="rotateYField" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="Z:"/>
                        <Spinner fx:id="rotateZField" prefWidth="80"/>
                    </HBox>
                </VBox>

                <!-- === SCALE === -->
                <VBox spacing="5">
                    <Label text="Scale" style="-fx-font-weight: bold;"/>
                    <HBox spacing="5">
                        <Label text="X:"/>
                        <Spinner fx:id="scaleXField" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="Y:"/>
                        <Spinner fx:id="scaleYField" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="Z:"/>
                        <Spinner fx:id="scaleZField" prefWidth="80"/>
                    </HBox>
                </VBox>

                <!-- === BUTTON === -->
                <VBox spacing="5" alignment="CENTER_LEFT">
                    <Button text="Reset" onAction="#handleResetTransform" style="-fx-pref-width: 80;"/>
                </VBox>
            </VBox>
        </AnchorPane>
    </right>
</BorderPane>

